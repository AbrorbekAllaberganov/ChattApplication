<html xmlns:th="http://www.thymeleaf.org">

<head>
  <title>Chat WebSocket</title>

</head>
<body>
<h1>Hello</h1>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.6.1/sockjs.min.js" integrity="sha512-1QvjE7BtotQjkq8PxLeF6P46gEpBRXuskzIVgjFpekzFVF4yjRgrQvTG1MTOJ3yQgvTteKAcO7DSZI92+u/yZw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>

<script th:inline="javascript">
    var soc = new SockJS("/websocket-connection");
    var stompClient = Stomp.over(soc);

    stompClient.connect({}, function(frame) {
        console.log('Connected'+frame);
        stompClient.subscribe('/topic/messages', function(msg) {
            console.log(JSON.parse(msg.body));
        });
    });
</script>

</body>
</html>